## 搜索架构

### 2021.4.26一面

#### C++

1. C++文本文件到可执行文件的过程：**预编译，编译，汇编，链接**
   - 参考：**hello.c 程序的编译过程**
2. C++的**多态**了解吗
3. **map**和**set**的区别，set中插入相同的值会发生什么





- [x] **红黑树**了解吗，二叉树？
  - **出现原因**：二叉搜索数最极端的情况是退化成链表，查找效率变低，平衡二叉树其实也可以解决效率低的问题，但是他要求每个节点的左右子树的高度差不大于1，因此在大量数据插入或者删除时需要经常调整，效率也不高。
  - 性质：
    - 节点只有黑色和红色
    - 根节点是黑色
    - 每个叶子节点是黑色
    - 每个红色节点的两个子节点一定是黑色，不能有两个红色节点相连
    - 任意一个节点到每个叶子节点的路径都包含数量相同的黑节点，**黑高**
  - 查找：和搜索二叉树相同
  - 插入：插入节点必须是红色



- [x] **new、delete**以及**malloc、free**区别

  - 相同点：都可以用于内存的动态申请和释放

  - 不同点：

    - new/delete是**C++运算符**，支持重载，不需要库文件；malloc/free是C/C++语言标准库函数，支持覆盖，需要库文件

    - new自动计算要分配的空间大小，malloc需要手工计算

    - new是类型安全的，malloc不是

      ```cpp
      int *p = new float[2]; //编译错误 
      int *p = (int*)malloc(2 * sizeof(double));//编译无错误
      ```

    - new封装了malloc，直接free不会包括，但是只是释放内存，而不会析构对象

    - new调用名为**operator new的标准库函数**分配足够空间并调用相关对象的构造函数，delete对指 针所指对象运行适当的析构函数；然后通过调用名为**operator delete的标准库函数**释放该对象所 用内存。后者均没有相关调用

    - malloc仅仅分配内存空间，free仅仅回收空间，不具备调用构造函数和析构函数功能，用malloc分 配空间存储类的对象存在风险；new和delete除了分配回收功能外，还会调用构造函数和析构函 数。

    - malloc和free返回的是void类型指针（必须进行类型转换），new和delete返回的是具体类型指针。

  - **delete和delete[]区别？**

    - delete只会调用一次析构函数。 delete[]会调用数组中每个元素的析构函数。

  

- [x] 为什么需要分虚函数和纯虚函数
  1. 虚函数和纯虚函数都可以在子类中被重写，**前者既有定义也有实现代码，后者一般没有实现的代码**
  2. 含有纯虚函数的类不能实例化，也就是只能被继承到子类中去实现，含有此函数的类被称为抽象类。**另外虚函数在子类中可以不重载，但是纯虚函数必须重载**
  3. 含有纯虚函数的类一般用于定义一些公有的方法



- [x] 智能指针了解吗
  1. 原理：是一个类，存储指向动态分配对象的指针，负责自动释放动态分配的对象，防止堆内存泄漏。动态分配的资源，交给一个类对象去管理，当类对象声明周期结束时，自动调用析构函数释放资源
  2. 常用的智能指针：
     1. **shared_ptr**
     2. **unique_ptr**
     3. **weak_ptr**
     4. **auto_ptr**



#### 数据库

1. 如何优化查询过程
2. **left join**和**right join**区别
3. [联合索引](https://blog.csdn.net/lm1060891265/article/details/81482328)了解吗
   1. 指对表上的多个列进行索引，联合索引也是一棵B+树，不同的是联合索引的键值数量不是1，而是大于等于2.
   2. 优化：在联合索引中将选择性最高的列放在索引最前面。

- [ ] **乐观锁和悲观锁了解吗**



#### 计算机网络

1. 网页请求过程



#### 操作系统

1. **死锁**了解吗
2. **进程和线程**区别：进程是分配资源单位，线程是调度单位
3. 虚拟内存了解吗



#### 算法

1. 一串数字任意排列，处理一下，奇数在前升序，偶数在后逆序
   - 当时有点紧张，只完成了80%，那个sort的自定义排序还是不熟悉啊

2. 海量数据100G选择TOP 100个单词：注意只需要选取每个文件中前100个单词，然后再归并