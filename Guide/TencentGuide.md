# _Tencent_

## C++

### 1. extern "C"作用

为了能够**正确实现C++代码调用其他C语言代码**。加上extern “C”后，会指示编译器对这部分代码按照C语言的特性进行编译。**最终实现C++与C及其他语言的混合编程**

由于C++支持函数重载，因此编译器编译函数的过程中会将函数的参数类型也加到编译之后的代码中，而不仅仅是函数名；而C语言并不支持函数重载，因此**编译C语言代码的函数时不会带上函数的参数类型**，一般只是包括函数名

> 比如说你用C 开发了一个DLL 库，为了能够让C ++语言也能够调用你的DLL输出(Export)的函数，你需要用extern "C"来强制编译器不要修改你的函数名。

1. **Extern关键字**

表明函数和全局变量作用范围（可见性）的关键字，其声明的函数和变量可以在所有模块中使用

>通常，在模块的头文件中对本模块提供给其它模块引用的函数和全局变量以关键字extern声明。例如，如果模块B欲引用该模块A中定义的全局变量和函数时只需包含模块A的头文件即可。这样，模块B中调用模块A中的函数时，在编译阶段，模块B虽然找不到该函数，但是并不会报错；它会在**链接阶段**中从模块A编译生成的目标代码中找到此函数。
>
>与extern对应的关键字是static，被它修饰的全局变量和函数只能在本模块中使用。因此，一个函数或变量只可能被本模块使用时，其不可能被extern “C”修饰。

2. **被extern “C"修饰的变量和函数是按照C语言方式编译和链接的**

> 作为一种面向对象的语言，C++支持函数重载，而过程式语言C则不支持。
>
> 函数被C++编译后在符号库中的名字与C语言的不同。例如，假设某个函数的原型为：`void foo( int x, int y )`; 该函数被C编译器编译后在符号库中的名字为`_foo`，而C++编译器则会产生像`_foo_int_int`之类的名字（不同的编译器可能生成的名字不同，但是都采用了相同的机制，生成的新名字称为“mangled name”）。
>
> 
>
> 

作者：JasonDing
链接：https://www.jianshu.com/p/5d2eeeb93590
来源：简书
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。