## å›æº¯ç®—æ³•

> ä¸»è¦å‚è€ƒçš„æ˜¯ liweiweiã€ä»£ç éšæƒ³å½•ã€0x3F

### 0. æ¦‚å¿µ

**å›æº¯æ³•** é‡‡ç”¨è¯•é”™çš„æ€æƒ³ï¼Œå®ƒå°è¯•åˆ†æ­¥çš„å»è§£å†³ä¸€ä¸ªé—®é¢˜ã€‚åœ¨åˆ†æ­¥è§£å†³é—®é¢˜çš„è¿‡ç¨‹ä¸­ï¼Œå½“å®ƒé€šè¿‡å°è¯•å‘ç°ç°æœ‰çš„åˆ†æ­¥ç­”æ¡ˆä¸èƒ½å¾—åˆ°æœ‰æ•ˆçš„æ­£ç¡®çš„è§£ç­”çš„æ—¶å€™ï¼Œ**å®ƒå°†å–æ¶ˆä¸Šä¸€æ­¥ç”šè‡³æ˜¯ä¸Šå‡ æ­¥çš„è®¡ç®—**ï¼Œå†é€šè¿‡å…¶å®ƒçš„å¯èƒ½çš„åˆ†æ­¥è§£ç­”å†æ¬¡å°è¯•å¯»æ‰¾é—®é¢˜çš„ç­”æ¡ˆã€‚å›æº¯æ³•é€šå¸¸ç”¨æœ€ç®€å•çš„ **é€’å½’** æ–¹æ³•æ¥å®ç°ï¼Œåœ¨åå¤é‡å¤ä¸Šè¿°çš„æ­¥éª¤åå¯èƒ½å‡ºç°ä¸¤ç§æƒ…å†µï¼š

- æ‰¾åˆ°ä¸€ä¸ªå¯èƒ½å­˜åœ¨çš„æ­£ç¡®çš„ç­”æ¡ˆ
- åœ¨å°è¯•äº†æ‰€æœ‰å¯èƒ½çš„åˆ†æ­¥æ–¹æ³•åå®£å‘Šè¯¥é—®é¢˜æ²¡æœ‰ç­”æ¡ˆ

**æ·±åº¦ä¼˜å…ˆæœç´¢** ç®—æ³•ï¼ˆDepth-First-Searchï¼ŒDFSï¼‰æ˜¯ä¸€ç§ç”¨äº **éå†æˆ–æœç´¢æ ‘æˆ–å›¾** çš„ç®—æ³•ã€‚è¿™ä¸ªç®—æ³•ä¼š **å°½å¯èƒ½æ·±** çš„æœç´¢æ ‘çš„åˆ†æ”¯ã€‚å½“ç»“ç‚¹ v çš„æ‰€åœ¨è¾¹éƒ½å·±è¢«æ¢å¯»è¿‡ï¼Œæœç´¢å°† **å›æº¯** åˆ°å‘ç°ç»“ç‚¹ v çš„é‚£æ¡è¾¹çš„èµ·å§‹ç»“ç‚¹ã€‚è¿™ä¸€è¿‡ç¨‹ä¸€ç›´è¿›è¡Œåˆ°å·²å‘ç°ä»æºç»“ç‚¹å¯è¾¾çš„æ‰€æœ‰ç»“ç‚¹ä¸ºæ­¢ã€‚å¦‚æœè¿˜å­˜åœ¨æœªè¢«å‘ç°çš„ç»“ç‚¹ï¼Œåˆ™é€‰æ‹©å…¶ä¸­ä¸€ä¸ªä½œä¸ºæºç»“ç‚¹å¹¶é‡å¤ä»¥ä¸Šè¿‡ç¨‹ï¼Œæ•´ä¸ªè¿›ç¨‹åå¤è¿›è¡Œç›´åˆ°æ‰€æœ‰ç»“ç‚¹éƒ½è¢«è®¿é—®ä¸ºæ­¢ã€‚

> å…¸å‹çš„ DFS ä½†æ˜¯æ²¡æœ‰å›æº¯çš„é¢˜ç›®ï¼š[17. ç”µè¯å·ç çš„å­—æ¯ç»„åˆ](https://leetcode.cn/problems/letter-combinations-of-a-phone-number/)

**ç®€å•æ¯”è¾ƒ**

ã€Œå›æº¯ç®—æ³•ã€ä¸ã€Œæ·±åº¦ä¼˜å…ˆéå†ã€éƒ½æœ‰**ã€Œä¸æ’å—å¢™ä¸å›å¤´ã€**çš„æ„æ€ã€‚ã€Œå›æº¯ç®—æ³•ã€å¼ºè°ƒäº†ã€Œæ·±åº¦ä¼˜å…ˆéå†ã€æ€æƒ³çš„ç”¨é€”ï¼Œç”¨ä¸€ä¸ª **ä¸æ–­å˜åŒ–** çš„å˜é‡ï¼Œåœ¨å°è¯•å„ç§å¯èƒ½çš„è¿‡ç¨‹ä¸­ï¼Œæœç´¢éœ€è¦çš„ç»“æœã€‚

- å›æº¯å¼ºè°ƒäº† **å›é€€** æ“ä½œå¯¹äºæœç´¢çš„åˆç†æ€§
- DFS å¼ºè°ƒä¸€ç§ **éå†** çš„æ€æƒ³ï¼Œä¸ä¹‹å¯¹åº”çš„éå†æ€æƒ³æ˜¯ BFS



### 1. ä¾‹é¢˜ï¼ˆ[46.å…¨æ’åˆ—](https://leetcode.cn/problems/permutations/)ï¼‰

#### é¢˜ç›®

> ç»™å®šä¸€ä¸ªä¸å«é‡å¤æ•°å­—çš„æ•°ç»„ nums ï¼Œè¿”å›å…¶ æ‰€æœ‰å¯èƒ½çš„å…¨æ’åˆ— ã€‚ä½ å¯ä»¥ æŒ‰ä»»æ„é¡ºåº è¿”å›ç­”æ¡ˆ



#### **é¢˜è§£**

è¿™æ˜¯ä¸€åˆ°å›æº¯ç®—æ³•çš„å…¥é—¨é¢˜ï¼Œå¾ˆå¥½çš„è¯´æ˜äº†å›æº¯ç®—æ³•åœ¨é€‰æ‹©å›é€€æ—¶çš„ç”¨æ³•ï¼Œå‡ ä¸ªæ¯”è¾ƒé‡è¦çš„ç‚¹æ˜¯ï¼š

1. é€’å½’çš„é‡ç‚¹æ¡ä»¶æ˜¯æ’åˆ—ä¸­æ•°å­—å·²ç»é€‰æ»¡
2. éœ€è¦ä½¿ç”¨ **used** æ¥æ ‡è®° path ä½¿ç”¨è¿‡çš„å˜é‡

```cpp
class Solution {
    vector<vector<int>> res;
    vector<int> path;

public:
    vector<vector<int>> permute(vector<int>& nums) {
        vector<int> used(nums.size(), 0);
        backtrace(nums, used);
        return res;
    }

    void backtrace(vector<int>& nums, vector<int>& used) {
        if (path.size() == nums.size()) {
            res.push_back(path);
            return;
        }

        for (int i = 0; i < nums.size(); ++ i) {
            if (used[i]) continue;  // path ä¸­å·²ç»å­˜åœ¨ nums[i] ç›´æ¥è·³è¿‡

            path.push_back(nums[i]);
            used[i] = 1;

            backtrace(nums, used);

            used[i] = 0;    // æ¢å¤ç°åœº
            path.pop_back();
        }

    }
};
```

> å¦å¤–åœ¨ C++ é‡Œï¼Œæœ€å¥½è¿˜æ˜¯ä¸è¦å†™`vector<bool>`ï¼Œå› ä¸º`vector<bool>`è¿”å›çš„æ˜¯ä¸€ä¸ª`std::vector<bool>::reference`çš„å¯¹è±¡ï¼Œæ•°æ®é‡å¤§æ—¶æ¯”`vector<int>`è¦æ…¢ï¼Œ[å‚è€ƒ](https://leetcode.cn/problems/permutations-ii/solution/hui-su-suan-fa-python-dai-ma-java-dai-ma-by-liwe-2/478510)



#### æ€è€ƒ

**æœ‰é‡å¤å…ƒç´ çš„å…¨æ’åˆ—ï¼ˆLC.47ï¼‰**

- æ’åºä¹‹åå†æ ¹æ® `nums[i-1]==nums[i]` åˆ¤é‡
- åœ¨ä¸Šä¸€ä¸ª**ç›¸åŒçš„å…ƒç´ æ’¤é”€ä¹‹å**å»é‡æ•ˆç‡æ›´é«˜



**ç»„åˆé—®é¢˜çš„æ’åˆ—ï¼ˆLC.39ï¼‰**

- **æ’åˆ—é—®é¢˜**ï¼šè®²ç©¶é¡ºåºï¼Œä¾‹å¦‚ [LC46.å…¨æ’åˆ—]ï¼ˆå³ [2, 2, 3] ä¸ [2, 3, 2] è§†ä¸ºä¸åŒåˆ—è¡¨æ—¶ï¼‰ï¼Œéœ€è¦è®°å½•å“ªäº›æ•°å­—å·²ç»ä½¿ç”¨è¿‡ï¼Œæ­¤æ—¶ç”¨ **used æ•°ç»„**
- **ç»„åˆé—®é¢˜**ï¼šä¸è®²ç©¶é¡ºåºï¼ˆå³ [2, 2, 3] ä¸ [2, 3, 2] è§†ä¸ºç›¸åŒåˆ—è¡¨æ—¶ï¼‰ï¼Œéœ€è¦æŒ‰ç…§æŸç§é¡ºåºæœç´¢ï¼Œæ­¤æ—¶ä½¿ç”¨ **begin å˜é‡**

> æœ‰ä¸€ä¸ªå°ç»éªŒå°±æ˜¯ **used æ•°ç»„** å’Œ **begin å˜é‡** ä¸€èˆ¬ä¸ç”¨ä¸€èµ·ä½¿ç”¨



### 2. ç›¸å…³é—®é¢˜

#### 2.1 å­é›†å‹å›æº¯

| é¢˜ç›®                                                         | è¯´æ˜                                                         | é¢˜è§£                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| [78. å­é›†](https://leetcode.cn/problems/subsets/)            | å’Œ LC.39 ç±»ä¼¼ï¼ŒæŒ‰ç…§ begin ä¸ºèµ·ç‚¹éå†å›æº¯å°±å¯ä»¥               | [é€šè¿‡](https://leetcode.cn/submissions/detail/395238958/)    |
| [90. å­é›† II](https://leetcode.cn/problems/subsets-ii/)      | åœ¨ LC.78 çš„åŸºç¡€ä¸Šæœ‰é‡å¤å…ƒç´ çš„è€ƒè™‘ï¼Œå’Œ LC.40 ç±»ä¼¼çš„å‰ªæ :fire: | [é€šè¿‡](https://leetcode.cn/submissions/detail/395250094/)    |
| [131. åˆ†å‰²å›æ–‡ä¸²](https://leetcode.cn/problems/palindrome-partitioning/) | æšä¸¾å­—ç¬¦ä¹‹é—´çš„é€—å·ï¼ŒæŒ‰ç…§ idx é¡ºåºå›æº¯ï¼Œåˆ¤æ–­å›æ–‡              | [é€šè¿‡](https://leetcode.cn/submissions/detail/395280098/)    |
| [698. åˆ’åˆ†ä¸ºkä¸ªç›¸ç­‰çš„å­é›†](https://leetcode.cn/problems/partition-to-k-equal-sum-subsets/) | **æŠ½è±¡æˆ k ä¸ªæ¡¶**ï¼Œæ¯ä¸ªæ¡¶çš„å®¹é‡ä¸ºå­é›†å’Œå¤§å°                  | [é€šè¿‡](https://leetcode.cn/submissions/detail/396107337/)    |
| [473. ç«æŸ´æ‹¼æ­£æ–¹å½¢](https://leetcode.cn/problems/matchsticks-to-square/) | å’Œ LC.698 ä¸€æ¨¡ä¸€æ ·ï¼Œ**æŠ½è±¡æˆ 4 ä¸ªæ¡¶**                        | [é€šè¿‡](https://leetcode.cn/submissions/detail/366042332/)    |
| [2305. å…¬å¹³åˆ†å‘é¥¼å¹²](https://leetcode.cn/problems/fair-distribution-of-cookies/) | k ä¸ªæ¡¶ï¼Œä½†æ˜¯æ¡¶å¤§å°æœªçŸ¥ï¼Œä»å¤§åˆ°å°DFSå›æº¯                      | [é€šè¿‡](https://leetcode.cn/submissions/detail/396110148/)    |
| [854. ç›¸ä¼¼åº¦ä¸º K çš„å­—ç¬¦ä¸²](https://leetcode.cn/problems/k-similar-strings/) | DFS å›æº¯ï¼Œå‰ªæï¼Œæœ‰ç‚¹éš¾...                                    | [é€šè¿‡](https://leetcode.cn/submissions/detail/396114920/)    |
| [1255. å¾—åˆ†æœ€é«˜çš„å•è¯é›†åˆ](https://leetcode.cn/problems/maximum-score-words-formed-by-letters/) | å‚è€ƒçµç¥çš„å­é›†å‹å›æº¯ï¼Œé€‰æˆ–ä¸é€‰çš„æ€æƒ³ï¼Œæ³¨æ„æ¢å¤ç°åœº :fire:    | [0x3F](https://leetcode.cn/problems/maximum-score-words-formed-by-letters/solution/hui-su-san-wen-si-kao-hui-su-wen-ti-de-t-kw3y/) |

**å‚è€ƒçµç¥æ€è·¯æ€»ç»“ä¸€ä¸‹ï¼š**

1. è¾“å…¥è§†è§’ï¼šç¬¬ i ä¸ªå…ƒç´ ã€Œé€‰è¿˜æ˜¯ä¸é€‰ã€ï¼Œè¿™ä¸ªæ¯”è¾ƒç›´æ¥
2. **ç­”æ¡ˆè§†è§’**ï¼šç¬¬ i ä¸ªå…ƒç´ ã€Œæšä¸¾é€‰å“ªä¸ªæ•°ã€ï¼Œä¹Ÿä¹‹å‰éƒ½æ˜¯è¿™ä¸ªæ€è·¯ï¼Œä¹Ÿå°±æ˜¯ begin å˜é‡è§„å®šé¡ºåº

**å‚è€ƒä»£ç éšæƒ³å½•çš„å‰ªææŠ€å·§ï¼š**

- for å¾ªç¯æ¨ªå‘éå†ï¼Œé€’å½’æ˜¯çºµå‘éå†

- åŒºåˆ†ä¸€ä¸‹ä»€ä¹ˆæ˜¯ [æ ‘æå»é‡ vs æ ‘å±‚å»é‡](https://programmercarl.com/0090.%E5%AD%90%E9%9B%86II.html#%E6%80%9D%E8%B7%AF)



#### 2.2 ç»„åˆå‹å›æº¯

| é¢˜ç›®                                                         | è¯´æ˜                                                         | é¢˜è§£                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| [39. ç»„åˆæ€»å’Œ](https://leetcode.cn/problems/combination-sum/) | ç»„åˆé—®é¢˜éœ€è¦æŒ‰ç…§æŸç§é¡ºåºæœç´¢ï¼šæ¯ä¸€æ¬¡æœç´¢çš„æ—¶å€™è®¾ç½® **ä¸‹ä¸€è½®æœç´¢çš„èµ·ç‚¹** `begin`ï¼Œä¹Ÿå¯ä»¥æ’åºä¹‹ååŠ é€Ÿå‰ªæ | [é€šè¿‡](https://leetcode.cn/submissions/detail/171894367/)    |
| [40. ç»„åˆæ€»å’Œ II](https://leetcode.cn/problems/combination-sum-ii/) | å’Œ LC.39 åŒºåˆ«æ˜¯è¿™ä¸ªæœ‰é‡å¤å…ƒç´ ï¼Œéœ€è¦å»æ‰å½“å‰å±‚ï¼ˆforå¾ªç¯ä¸­ï¼‰**ç¬¬äºŒä¸ªæ•°å€¼é‡å¤çš„èŠ‚ç‚¹** :fire: | [å‰ªæ](https://leetcode.cn/problems/combination-sum-ii/solution/hui-su-suan-fa-jian-zhi-python-dai-ma-java-dai-m-3/225211) |
| [77. ç»„åˆ](https://leetcode.cn/problems/combinations/)       | å’Œ LC.39 ç±»ä¼¼ï¼ŒæŒ‰ç…§ begin ä¸ºèµ·ç‚¹éå†ç„¶åå›æº¯å°±å¯ä»¥ï¼Œå‰ªæï¼šå‰©ä½™å…ƒç´ ä¸ªæ•°éœ€è¦å¤šä½™ k | [é€šè¿‡](https://leetcode.cn/submissions/detail/395236585/)    |
| [216. ç»„åˆæ€»å’Œ III](https://leetcode.cn/problems/combination-sum-iii/) | å’Œ LC.40 ç±»ä¼¼ï¼Œè¿™é¢˜æ²¡æœ‰é‡å¤å…ƒç´ ï¼Œä¸¤ä¸ªå‰ªæï¼š**å°äºæœ€å°çš„ \|\| å¤§äºæœ€å¤§çš„** :fire: | [0x3F](https://leetcode.cn/problems/combination-sum-iii/solution/hui-su-bu-hui-xie-tao-lu-zai-ci-pythonja-feme/) |
| [22. æ‹¬å·ç”Ÿæˆ](https://leetcode.cn/problems/generate-parentheses/) | ç›´æ¥ DFS æ€è·¯ï¼ˆé€‰æˆ–ä¸é€‰ï¼‰æ›´ç®€å•ï¼Œæ¯”è¾ƒå‰©ä½™å·¦å³æ‹¬å·æ•°é‡å‰ªæ    | [LWW](https://leetcode.cn/problems/generate-parentheses/solution/hui-su-suan-fa-by-liweiwei1419/) |

- **æŒ‰ç…§çµç¥çš„æ€è·¯æ€»ç»“ä¸€ä¸‹ï¼š** å’Œå­é›†å‹å›æº¯ç±»ä¼¼ï¼ŒåŠ å‰ªææŠ€å·§ï¼Œæœ‰æ—¶å€™ä½¿ç”¨ã€Œé€‰æˆ–è€…ä¸é€‰ã€çš„æ€è·¯æ¯”è¾ƒç®€å•ï¼Œæ¯”å¦‚ LC.22 æ‹¬å·ç”Ÿæˆï¼Œæœ‰æ—¶å€™ä½¿ç”¨ã€Œé€‰å“ªä¸€ä¸ªã€æ€è·¯æ¯”è¾ƒç®€å•ï¼Œæ¯”å¦‚ LC.131 åˆ†å‰²å›æ–‡å­ä¸²ï¼Œå…·ä½“åšé¢˜æ—¶éœ€è¦æŒ‰ç…§é¢˜ç›®æ„æ€é€‰æ‹©æ¯”è¾ƒç›´æ¥çš„æ€è·¯

- **å‚è€ƒä»£ç éšæƒ³å½•çš„å»é‡æ€æƒ³**ï¼šhttps://programmercarl.com/0039.%E7%BB%84%E5%90%88%E6%80%BB%E5%92%8C.html



#### 2.3 æ’åˆ—å‹å›æº¯

| é¢˜ç›®                                                         | è¯´æ˜                                                         | é¢˜è§£                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| [46. å…¨æ’åˆ—](https://leetcode.cn/problems/permutations/)     | å›æº¯å…¥é—¨é—®é¢˜ï¼Œæ— é‡å¤å…ƒç´ çš„æ’åˆ—é—®é¢˜                           | [é€šè¿‡](https://leetcode.cn/submissions/detail/395204984/)    |
| [47. å…¨æ’åˆ— II](https://leetcode.cn/problems/permutations-ii/) | å»é‡æ˜¯å…³é”®ï¼Œæ’åºæ¯”è¾ƒï¼Œ**ä¸Šä¸€ä¸ªç›¸åŒçš„å…ƒç´ æ’¤é”€ä¹‹åå†å‰ªæ** :fire: | [å‰ªæå›¾](https://leetcode.cn/problems/permutations-ii/solution/hui-su-suan-fa-python-dai-ma-java-dai-ma-by-liwe-2/) |
| [51. N çš‡å](https://leetcode.cn/problems/n-queens/)         | ç¬¬ row è¡Œå¡«å…¥ path[row] è¿™ä¸ªæ•°ï¼Œæ±‚ path æ»¡è¶³æ¡ä»¶çš„å…¨æ’åˆ—     | [Carl](https://programmercarl.com/0051.N%E7%9A%87%E5%90%8E.html) |

- å‚è€ƒçµç¥çš„å†™æ³•ï¼šæ„Ÿè§‰æ’åˆ—è¡Œå›æº¯ä½¿ç”¨ã€Œé€‰å“ªä¸€ä¸ªã€çš„æ€è·¯æ¯”è¾ƒç®€å•ï¼Œä½¿ç”¨ used æ•°ç»„è®°å½•å½“å‰ path ä¸­æœ‰å“ªäº›å…ƒç´ ä½¿ç”¨è¿‡äº†ï¼Œç„¶åæ¢å¤ç°åœº
- å‚è€ƒ[ä»£ç éšæƒ³å½•](https://programmercarl.com/0047.%E5%85%A8%E6%8E%92%E5%88%97II.html)ï¼šæ³¨æ„ LC.47 ä¸­å¦‚æœæœ‰é‡å¤å…ƒç´ éœ€è¦ä½¿ç”¨ `used[i-1] == false` æ¥é™åˆ¶åŒä¸€å±‚é‡å¤å…ƒç´ ï¼Œè¯´æ˜ i-1 æ˜¯ä¹‹å‰ã€Œè¢«æ¢å¤çš„ã€å…ƒç´ ï¼Œå·²ç»ä½¿ç”¨è¿‡äº†ï¼Œæ‰€ä»¥å‰ªæ‰



### 3. å‚è€ƒ

- [å›æº¯ç®—æ³•å…¥é—¨çº§è¯¦è§£ + ç»ƒä¹ ï¼ˆæŒç»­æ›´æ–°ï¼‰](https://leetcode.cn/problems/permutations/solution/hui-su-suan-fa-python-dai-ma-java-dai-ma-by-liweiw/)
- [å›æº¯ç®—æ³•å¥—è·¯â‘ å­é›†å‹å›æº¯ã€åŸºç¡€ç®—æ³•ç²¾è®² 14ã€‘](https://www.bilibili.com/video/BV1mG4y1A7Gu/?vd_source=286032bc2c5715c8b50b608028ce57df)
- [ç»å…¸å›æº¯ç®—æ³•ï¼šé›†åˆåˆ’åˆ†é—®é¢˜ã€Œé‡è¦æ›´æ–° ğŸ”¥ğŸ”¥ğŸ”¥ã€](https://leetcode.cn/link/?target=https://lfool.github.io/LFool-Notes/algorithm/ç»å…¸å›æº¯ç®—æ³•ï¼šé›†åˆåˆ’åˆ†é—®é¢˜.html)

